import React from 'react'
import { Carousel, CarouselContent, CarouselItem, CarouselNext, CarouselPrevious } from '../ui/carousel'
import { Card, CardContent } from '../ui/card'

const fetchUsers = async () => {
  const res = await fetch("http://satriatama.me:9000/api/v1/users");
  const data = await res.json();
  return data;
}


const WelcomeCarousel = async () => {
  const data = await fetchUsers();
  return (
    <main className="flex flex-col row-start-2 justify-items-center sm:items-center">
        <h1 className="text-4xl font-bold mb-4">Realtime-app</h1>
        <p className="text-lg text-start mb-2">
          Select your user to test the realtime chat application.
        </p>
        <div className="flex">
        <Carousel
          opts={{
            align: "start",
          }}
          className="w-full max-w-2xl"
        >
          <CarouselContent className="ms-1">
            {
              data.data.map((user:User, index: number) => (
                <CarouselItem key={index} className="md:basis-1/2 lg:basis-1/5 p-0 ">
                <a
                href="/personal-chat"
                rel="noopener noreferrer"
                >
                    <div className="p-1">
                    <Card className='bg-green-100'>
                        <CardContent className="flex flex-col aspect-square items-center justify-center">
                        <svg id="fi_4681809" enable-background="new 0 0 512.021 512.021" width={75} viewBox="0 0 512.021 512.021" xmlns="http://www.w3.org/2000/svg"><g><path d="m44.477 400.685 46.424-14.902c8.749-2.809 17.564 4.12 16.903 13.285l-4.504 62.361z" fill="#f5ea72"></path><path d="m170.746 459.72c-22.13-.835-72.977-8.665-120.279-63.168-9.599-11.061-27.776-5.761-30.071 8.703-5.465 34.448 1.81 61.746 11.6 80.547 5.98 11.484 17.831 18.698 30.779 18.698h92.828z" fill="#3cb767"></path><path d="m392.978 504.5c11.869 0 20.859-10.646 18.97-22.364-10.701-66.38-68.258-117.077-137.657-117.077s-126.956 50.698-137.657 117.077c-1.889 11.718 7.101 22.364 18.97 22.364z" fill="#5ec783"></path><path d="m174.93 406.672c30.589 9.93 64.258 15.154 99.361 15.154 35.102 0 68.771-5.224 99.36-15.154-25.292-25.685-60.465-41.613-99.36-41.613s-74.069 15.928-99.361 41.613z" fill="#3cb767"></path><path d="m493.506 218.115c0 106.67-98.146 173.711-219.215 173.711s-219.215-67.041-219.215-173.711 81.306-210.615 219.215-210.615 219.215 103.945 219.215 210.615z" fill="#5ec783"></path><path d="m435.061 231.59c0-64.216-30.891-116.273-160.77-116.273s-160.771 52.057-160.771 116.273 71.979 104.323 160.77 104.323c88.792 0 160.771-40.107 160.771-104.323z" fill="#ffd4be"></path><g fill="#fff"><path d="m201.515 122.625c3.482 17.896 13.417 37.14 22.116 51.157 6.339 10.214 21.149 10.214 27.487 0 9.898-15.95 21.404-38.668 23.173-58.466-28.92 0-52.92 2.588-72.776 7.309z"></path><path d="m139.977 154.364c3.396 10.943 7.944 22.124 12.785 31.925 6.145 12.442 23.974 12.442 30.119 0 9.911-20.067 18.634-45.933 18.634-63.664-28.154 6.695-47.953 17.693-61.538 31.739z"></path><path d="m347.067 122.625c-3.482 17.896-13.417 37.14-22.116 51.157-6.339 10.214-21.149 10.214-27.487 0-9.898-15.95-21.404-38.668-23.173-58.466 28.92 0 52.92 2.588 72.776 7.309z"></path><path d="m408.604 154.364c-3.396 10.943-7.944 22.124-12.784 31.925-6.145 12.442-23.974 12.442-30.119 0-9.911-20.067-18.634-45.933-18.634-63.664 28.154 6.695 47.952 17.693 61.537 31.739z"></path></g><path d="m324.721 504.5c0-31.39-22.578-56.836-50.43-56.836s-50.43 25.446-50.43 56.836z" fill="#f5ea72"></path><g><g><ellipse cx="194.646" cy="261.234" fill="#eda1ab" rx="29.387" ry="23.403"></ellipse><ellipse cx="353.935" cy="261.234" fill="#eda1ab" rx="29.387" ry="23.403"></ellipse><path d="m297.984 243.253c0-14.643-10.608-16.019-23.694-16.019s-23.693 1.376-23.693 16.019 10.608 26.513 23.693 26.513 23.694-11.87 23.694-26.513z" fill="#4e5660"></path></g></g><path d="m441.037 67.625c-40.409-42.296-97.86-67.625-166.746-67.625-50.611 0-97.347 14-135.153 40.487-3.393 2.377-4.216 7.054-1.839 10.446 2.376 3.393 7.053 4.216 10.446 1.839 35.271-24.71 79.03-37.772 126.546-37.772 79.117 0 128.448 34.253 155.9 62.987 35.471 37.128 55.814 88.202 55.814 140.128 0 48.689-21.176 90.489-61.239 120.882-38.532 29.23-91.973 45.329-150.476 45.329s-111.943-16.099-150.476-45.329c-40.063-30.393-61.239-72.192-61.239-120.882 0-53.538 21.428-105.724 58.789-143.176 2.926-2.933 2.92-7.682-.013-10.606-2.932-2.926-7.681-2.922-10.606.013-40.146 40.242-63.17 96.289-63.17 153.77 0 83.807 57.773 143.895 138.842 168.606-21.023 15.651-37.308 36.424-47.409 60.237-7.912-2.28-16.848-5.593-26.393-10.402l2.669-36.947c1.043-14.455-12.882-25.399-26.676-20.967l-34.388 11.038c-14.338-13.314-38.111-5.273-41.231 14.399-6.177 38.932 3.31 67.814 12.354 85.186 7.304 14.023 21.647 22.734 37.432 22.734h289.989c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-20.951c-3.358-31.952-27.866-56.836-57.523-56.836-29.658 0-54.167 24.884-57.524 56.836h-61.163c-7.412 0-12.694-6.664-11.565-13.671 6.152-38.16 28.549-71.351 61.613-91.514 21.722 4.94 44.798 7.511 68.64 7.511s46.918-2.572 68.64-7.511c33.064 20.163 55.461 53.354 61.613 91.514.554 3.436-.418 6.921-2.666 9.56-4.679 5.492-10.732 3.823-12.812 4.11-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5c1.506-.269 14.537 1.996 24.232-9.385 5.102-5.99 7.31-13.891 6.055-21.673-6.119-37.956-26.664-71.487-57.2-94.218 80.699-24.594 138.853-84.443 138.853-168.609 0-55.746-21.858-110.597-59.969-150.489zm-347.844 325.299c3.691-1.185 7.409 1.737 7.131 5.604l-2.153 29.808c-10.6-6.746-21.642-15.411-32.63-26.536zm38.421 104.076h-68.839c-10.172 0-19.417-5.618-24.127-14.662-8.003-15.37-16.38-41.017-10.845-75.909 1.303-8.207 11.571-11.213 17-4.961 31.371 36.147 64.525 52.366 89.061 59.613-1.985 6.457-3.543 13.088-4.635 19.862-.892 5.537-.024 11.131 2.385 16.057zm142.677-41.836c21.454 0 39.282 18.178 42.435 41.836h-84.87c3.152-23.658 20.981-41.836 42.435-41.836zm82.231-381.735v-12c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v12c0 4.143 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5zm-149.464 0v-12c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v12c0 4.143 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5zm55.746-4.951c2.929-2.93 2.928-7.678-.001-10.606l-3.741-3.74c-2.931-2.932-7.68-2.929-10.607.001-2.929 2.93-2.928 7.678.001 10.606l3.741 3.74c2.927 2.927 7.678 2.929 10.607-.001zm86.218 172.316c4.143 0 7.5-3.357 7.5-7.5v-12c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v12c0 4.142 3.358 7.5 7.5 7.5zm-52.636-172.315 3.74-3.74c2.929-2.93 2.929-7.678 0-10.607-2.93-2.928-7.678-2.928-10.607 0l-3.74 3.74c-2.929 2.93-2.929 7.678 0 10.607 2.93 2.928 7.677 2.927 10.607 0zm-22.095 208.787c17.2 0 31.193-15.258 31.193-34.013 0-12.057-6.008-17.634-11.048-20.189-5.448-2.763-11.994-3.329-20.146-3.329-8.151 0-14.697.566-20.146 3.329-5.039 2.556-11.047 8.133-11.047 20.189.001 18.755 13.994 34.013 31.194 34.013zm0-42.532c15.538 0 16.193 2.611 16.193 8.518 0 10.483-7.265 19.013-16.193 19.013-8.929 0-16.193-8.529-16.193-19.013 0-5.906.655-8.518 16.193-8.518zm-168.271-3.144c0 33.014 17.983 62.354 50.634 82.615 30.353 18.835 72.13 29.208 117.637 29.208 45.506 0 87.283-10.373 117.636-29.208 32.651-20.262 50.634-49.602 50.634-82.615 0-96.361-71.544-123.773-168.27-123.773-96.732-.001-168.271 27.416-168.271 123.773zm294.012-75.113c-2.982 8.849-6.795 18.103-10.937 26.491-3.399 6.881-13.267 6.89-16.67 0-8.641-17.495-14.823-36.052-16.987-50.309 19.633 5.894 34.05 14.123 44.594 23.818zm-62.057-28.138c-4.652 16.284-13.862 32.571-19.396 41.489-3.413 5.497-11.326 5.504-14.743 0-6.464-10.417-16.906-29.156-20.772-46.917 21.22.409 39.386 2.309 54.911 5.428zm-72.458-5.429c-3.865 17.759-14.306 36.499-20.771 46.917-3.412 5.495-11.328 5.505-14.742 0-5.534-8.917-14.746-25.203-19.398-41.488 15.525-3.119 33.69-5.019 54.911-5.429zm-72.377 9.749c-2.165 14.26-8.343 32.815-16.984 50.309-3.398 6.88-13.266 6.891-16.67 0-4.141-8.384-7.953-17.638-10.937-26.492 10.544-9.694 24.96-17.923 44.591-23.817zm-3.535 56.951c5.169-10.467 10.531-23.537 14.306-36.578 4.262 9.328 9.109 17.876 13.346 24.704 9.343 15.055 31.047 14.801 40.233.001 5.616-9.051 11.965-20.528 16.798-32.726 4.834 12.199 11.186 23.675 16.803 32.726 9.263 14.925 30.95 14.955 40.232-.001 4.236-6.826 9.085-15.368 13.349-24.693 3.776 13.037 9.135 26.103 14.304 36.567 6.987 14.148 22.008 13.576 21.784 13.511 9.32 0 17.668-5.178 21.784-13.511 3.226-6.533 6.191-13.373 8.793-20.234 13.213 18.903 16.222 41.201 16.222 62.213 0 35.416-23.679 57.543-43.543 69.87-28.009 17.381-66.978 26.953-109.727 26.953s-81.718-9.572-109.728-26.953c-19.864-12.327-43.543-34.454-43.543-69.87 0-21.013 3.01-43.313 16.225-62.217 2.604 6.864 5.565 13.706 8.792 20.238 8.898 18.011 34.679 18.002 43.57 0zm9.953 51.184c4.143 0 7.5-3.357 7.5-7.5v-12c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v12c0 4.142 3.358 7.5 7.5 7.5z"></path></g></svg>
                        <div>
                        <p className="text-sm text-green-900 font-semibold mt-1 -mb-9">{user.username}</p>
                        </div>
                        </CardContent>
                    </Card>
                    </div>
                </a>
              </CarouselItem>
              ))
            }
          </CarouselContent>
          <CarouselPrevious />
          <CarouselNext />
        </Carousel>
        </div>
      </main>
  )
}

export default WelcomeCarousel